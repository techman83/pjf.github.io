<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Hacking your Conference badge for Hugs & Profit - Techman83's Blog</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <link href="https://techman83.me/img/favicon.png" rel="icon">

<link rel="canonical" href="https://techman83.me/hardware/2017/01/22/hacking_hugs_profit.html">

        <meta name="author" content="Leon Wright" />
        <meta name="keywords" content="programming,arduino,linuxconfau,lca2017" />
        <meta name="description" content="Last week was Linux Conf AU 2017, which is a community run Free and Open Source Software conference that is in a different A/NZ city every year. This year I&#39;d managed to attend the Open Hardware MiniConf and was inspired to build something during the conference. I&#39;m not sure …" />

        <meta property="og:site_name" content="Techman83's Blog" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Hacking your Conference badge for Hugs &amp; Profit"/>
        <meta property="og:url" content="https://techman83.me/hardware/2017/01/22/hacking_hugs_profit.html"/>
        <meta property="og:description" content="Last week was Linux Conf AU 2017, which is a community run Free and Open Source Software conference that is in a different A/NZ city every year. This year I&#39;d managed to attend the Open Hardware MiniConf and was inspired to build something during the conference. I&#39;m not sure …"/>
        <meta property="article:published_time" content="2017-01-22" />
            <meta property="article:section" content="hardware" />
            <meta property="article:tag" content="programming" />
            <meta property="article:tag" content="arduino" />
            <meta property="article:tag" content="linuxconfau" />
            <meta property="article:tag" content="lca2017" />
            <meta property="article:author" content="Leon Wright" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="https://techman83.me/theme/css/bootstrap.spacelab.min.css" type="text/css"/>
    <link href="https://techman83.me/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="https://techman83.me/theme/css/pygments/vim.css" rel="stylesheet">
    <link href="https://techman83.me/theme/tipuesearch/tipuesearch.css" rel="stylesheet">
    <link rel="stylesheet" href="https://techman83.me/theme/css/style.css" type="text/css"/>
        <link href="https://techman83.me/./css/style.min.css" rel="stylesheet">

        <link href="https://techman83.me/feeds/all-atom.xml" type="application/atom+xml" rel="alternate"
              title="Techman83's Blog ATOM Feed"/>

        <link href="https://techman83.me/feeds/all-rss.xml" type="application/rss+xml" rel="alternate"
              title="Techman83's Blog RSS Feed"/>


        <link href="https://techman83.me/feeds/hardware-atom.xml" type="application/atom+xml" rel="alternate"
              title="Techman83's Blog hardware ATOM Feed"/>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="https://techman83.me/" class="navbar-brand">
<img class="img-responsive pull-left gap-right" src="https://techman83.me/img/favicon.png" width=""/> Techman83's Blog            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                        <li class="active">
                            <a href="https://techman83.me/hardware">Hardware</a>
                        </li>
                        <li >
                            <a href="https://techman83.me/personal">Personal</a>
                        </li>
                        <li >
                            <a href="https://techman83.me/programming">Programming</a>
                        </li>
                        <li >
                            <a href="https://techman83.me/talks">Talks</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><span>
                <form class="navbar-search" action="/search.html">
                  <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input" required>
                </form></span>
              </li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="https://techman83.me/hardware/2017/01/22/hacking_hugs_profit.html"
                       rel="bookmark"
                       title="Permalink to Hacking your Conference badge for Hugs & Profit">
                        Hacking your Conference badge for Hugs & Profit
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2017-01-22T00:00:00+08:00"> Sun 22 January 2017</time>
    </span>





<span class="label label-default">Tags</span>
	<a href="https://techman83.me/tag/programming.html">programming</a>
        /
	<a href="https://techman83.me/tag/arduino.html">arduino</a>
        /
	<a href="https://techman83.me/tag/linuxconfau.html">linuxconfau</a>
        /
	<a href="https://techman83.me/tag/lca2017.html">lca2017</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>Last week was <a href="http://lca2017.org">Linux Conf AU 2017</a>, which is a community run Free and Open Source Software conference that is in a different A/NZ city every year. This year I'd managed to attend the <a href="http://www.openhardwareconf.org/">Open Hardware MiniConf</a> and was inspired to build something during the conference. I'm not sure how it occurred to me to build a 'Hug Detector' into my Conference badge, but it did and after talking about it with some fellow delegates, the feedback was overwhelmingly positive.</p>
<p>So after heading to my room early to get some sleep, I got sidetracked. Armed with an <a href="https://espressif.com/en/products/hardware/esp8266ex/overview">ESP8266</a> based <a href="https://www.wemos.cc/product/d1-mini.html">D1 Mini</a>, some sensors, a breadboard, and some wires I stayed up until 1am. Then a wild <a href="https://github.com/techman83/been_hugged">GitHub repository</a> occurred.</p>
<p>@Techman_83/status/821716638235906050</p>
<p>I popped by the rego desk the next morning, to acquire an extra badge holder. Which was met with some initial quizzical expressions, followed by intrigue whilst handing it over. Sitting up the back of the sessions and stabbing myself several times, I managed to get something of a working concept. </p>
<p>@johndalton/status/821918573215895552</p>
<p>That evening I set about tidying up the wires and got it working well enough with the sensors I had on hand. However I really wanted to get the <a href="http://www.freetronics.com.au/products/freepixel-addressable-rgb-led-module">Freepixels</a> I'd attached to display feedback about 'Hug Quality' and was hitting a strange problem with the micro controllers memory disappearing when ever I utilised them. As it turns out there was a dev from <a href="https://espressif.com/">Expressif Systems</a> who was intrigued by my badge and when I mentioned my problem it was met with "Want me to take a look at the code". </p>
<p>@Techman_83/status/822267900585123840</p>
<p>As it turns out the bug was in how I was iterating over the LED modules:</p>
<div class="codehilite"><pre><span></span><span class="k">for</span><span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">NUM_LEDS</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">leds</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">CRGB</span><span class="o">::</span><span class="n">Red</span><span class="p">;</span>
    <span class="n">leds</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">maximizeBrightness</span><span class="p">();</span>
    <span class="n">FastLED</span><span class="p">.</span><span class="n">show</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>


<p>'NUM_LEDS' is configured as '2', but arrays start at '0' in a lot of languages (including c++) so I was iterating past the end of 'leds' array and corrupting the micro controllers memory. I'd missed that entirely and as I generally work in higher level scripting languages, this kind of thing normally blows up the runtime in quite an obvious way. Below is the single character change that fixed the problem.</p>
<div class="codehilite"><pre><span></span><span class="k">for</span><span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">NUM_LEDS</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">leds</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">CRGB</span><span class="o">::</span><span class="n">Red</span><span class="p">;</span>
    <span class="n">leds</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">maximizeBrightness</span><span class="p">();</span>
    <span class="n">FastLED</span><span class="p">.</span><span class="n">show</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>


<p>Overall I really enjoyed working on the project. It was a fun way to make new friends and make a positive contribution to what was an exceptional LCA. Here are some extra tweets that shared the joy &lt;3</p>
<p>@r1chardj0n3s/status/821975880498974720</p>
<p>@vmbrasseur/status/822198988577198080</p>
<p>@The_McJones/status/822198909896257536</p>
<p>@johndalton/status/822219959610707969</p>
<p>@Charcol0x89/status/822294441813622784</p>
<p>@ITProAssoc/status/822298107274821632</p>
<p>@evildeece/status/822301398767259649</p>
            </div>
            <!-- /.entry-content -->
<section class="well" id="related-posts">
    <h4>Related Posts:</h4>
    <ul>
        <li><a href="https://techman83.me/hardware/2018/01/29/the_hugs_strike_back.html">The Hugs Strike Back!</a></li>
        <li><a href="https://techman83.me/hardware/2017/06/04/dont_underestimate_the_doorbell.html">Don't underestimate the... Doorbell</a></li>
        <li><a href="https://techman83.me/talks/2018/01/22/come_on_do_you_want_your_mods_to_live_forever.html">Come on; do you want your mods to live forever?</a></li>
        <li><a href="https://techman83.me/programming/2014/02/20/dancing_with_websockets.html">Dancing with WebSockets</a></li>
        <li><a href="https://techman83.me/hardware/2017/01/11/automating_your_home_with_themachine.html">Automating your home with 'themachine'</a></li>
    </ul>
</section>
    <hr />
    <!-- AddThis Button BEGIN -->
    <div class="addthis_toolbox addthis_default_style">
            <a class="addthis_button_facebook_share" fb:share:layout="button_count"></a>
            <a class="addthis_button_tweet"></a>
            <a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
    </div>
    <!-- AddThis Button END -->
<div class="tip-box">
    <p>
        <a href="https://www.gittip.com/techman83/"><i class="fa fa-gittip fa-3x pull-left"></i></a>
    This content is available for you to use for free,
            even commercially, under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.">Creative Commons Attribution 4.0 International License</a>
    </p><p>
        If you wish to support my work,
        please <a href="https://www.gittip.com/techman83/">tip me on gittip</a>.
    </p>
</div>
    <hr/>
    <section class="comments" id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'techman83'; // required: replace example with your forum shortname

                    var disqus_identifier = 'hacking_hugs_profit';
                var disqus_url = 'https://techman83.me/hardware/2017/01/22/hacking_hugs_profit.html';

            var disqus_config = function () {
                this.language = "en";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>
<div id="aboutme">
        <p>
            <img width="100%" class="img-thumbnail" src="https://techman83.me/img/leon-vr.png"/>
        </p>
</div>
<section class="well well-sm">
    <ul class="list-group list-group-flush">
        <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Social</span></h4>
              <ul class="list-group" id="social">
                <li class="list-group-item"><a href="https://github.com/Techman83"><i class="fa fa-github-square fa-lg"></i> Github</a></li>
                <li class="list-group-item"><a href="https://twitter.com/Techman_83"><i class="fa fa-twitter-square fa-lg"></i> Twitter</a></li>
              </ul>
            </li>






    <li class="list-group-item"><h4><i class="fa fa-github fa-lg"></i><span class="icon-label">GitHub Repos</span></h4>
        <div id="gh_repos">
            <p class="list-group-item">Status updating...</p>
        </div>
    </li>
    <li class="list-group-item"><h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
      <ul class="list-group" id="links">
        <li class="list-group-item">
            <a href="http://pjf.github.io" target="_blank">
                PJF
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://superhouse.tv" target="_blank">
                Superhouse.tv
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://bigclive.com" target="_blank">
                Big Clive
            </a>
        </li>
      </ul>
    </li>
    </ul>
</section>            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2018 Leon Wright
            &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>                <p><small>  <a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.en"><img alt="Creative Commons License" style="border-width:0" src="//i.creativecommons.org/l/by/4.0/80x15.png" /></a>
    Content
  licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.en">Creative Commons Attribution 4.0 International License</a>, except where indicated otherwise.
</small></p>
         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="https://techman83.me/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="https://techman83.me/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="https://techman83.me/theme/js/respond.min.js"></script>

    <script src="https://techman83.me/./js/compiled-bundle.min.js"></script>

    <!-- GitHub JS -->
    <script type="text/javascript">
        $(document).ready(function () {
            if (!window.jXHR) {
                var jxhr = document.createElement('script');
                jxhr.type = 'text/javascript';
                jxhr.src = 'https://techman83.me/theme/js/jXHR.js';
                var s = document.getElementsByTagName('script')[0];
                s.parentNode.insertBefore(jxhr, s);
            }

            github.showRepos({
                user: 'techman83',
                count: 4,
                skip_forks: false,
                target: '#gh_repos'
            });
        });
    </script>
    <script src="https://techman83.me/theme/js/github.js" type="text/javascript"></script>
    <!-- End GitHub JS Code -->
    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'techman83'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->
    <!-- Google Analytics -->
    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-39211824-2']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>
    <!-- End Google Analytics Code -->

        <script type="text/javascript">var addthis_config = {"data_track_addressbar": true};</script>
    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-52df33e30fca36e7"></script>
</body>
</html>