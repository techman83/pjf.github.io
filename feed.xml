<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
	<channel>
		<title>Leon Wright</title>
		<description>I am self professed Geek that enjoys the company of small mythical creatures.</description>
		<link>http://www.techman83.me</link>
		<atom:link href="http://www.techman83.me/feed.xml" rel="self" type="application/rss+xml" />
                

                    
                    
                    

			<item>
				<title>Dancing with WebSockets</title>
				<description>&lt;p&gt;I learnt during the development of the &lt;a href=&quot;https://github.com/plugorgau/eventstreamr&quot;&gt;EventStreamR&lt;/a&gt; frontend that websockets are cool! Another learning project of mine is &lt;a href=&quot;https://github.com/techman83/NanodeControl&quot;&gt;NanodeControl&lt;/a&gt; and after learning what all the cool new things are available I wanted to have a crack at making it more modern. &lt;!--more--&gt;&lt;/p&gt;

&lt;p&gt;After a bit of search around I came across &lt;a href=&quot;http://search.cpan.org/~ironcamel/Dancer-Plugin-WebSocket-0.0100/lib/Dancer/Plugin/WebSocket.pm&quot;&gt;Dancer::Plugin::WebSocket&lt;/a&gt;. Expanding on the example provided here is a simple web page with simple messages and forked calls. It utilises the the Twiggy AnyEvent based non-blocking (asynchronous) and lightweight PSGI web server.&lt;/p&gt;

&lt;p&gt;You’ll need some libraries, my favourite way to install them is &lt;a href=&quot;http://search.cpan.org/~miyagawa/App-cpanminus-1.7001/lib/App/cpanminus.pm&quot;&gt;cpanm&lt;/a&gt;:&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='bash'&gt;cpanm -S Plack Twiggy Dancer Dancer::Plugin::WebSocket AnyEvent::Util
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;app.pl:&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='perl'&gt;&lt;span class='k'&gt;use&lt;/span&gt; &lt;span class='n'&gt;Dancer&lt;/span&gt; &lt;span class='s'&gt;&amp;#39;:syntax&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='k'&gt;use&lt;/span&gt; &lt;span class='nn'&gt;Dancer::Plugin::&lt;/span&gt;&lt;span class='n'&gt;WebSocket&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='k'&gt;use&lt;/span&gt; &lt;span class='nn'&gt;AnyEvent::&lt;/span&gt;&lt;span class='n'&gt;Util&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;

&lt;span class='n'&gt;set&lt;/span&gt; &lt;span class='n'&gt;logger&lt;/span&gt; &lt;span class='o'&gt;=&amp;gt;&lt;/span&gt; &lt;span class='s'&gt;&amp;#39;console&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='n'&gt;set&lt;/span&gt; &lt;span class='nb'&gt;log&lt;/span&gt; &lt;span class='o'&gt;=&amp;gt;&lt;/span&gt; &lt;span class='s'&gt;&amp;#39;core&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;

&lt;span class='n'&gt;get&lt;/span&gt; &lt;span class='s'&gt;&amp;#39;/&amp;#39;&lt;/span&gt; &lt;span class='o'&gt;=&amp;gt;&lt;/span&gt; &lt;span class='k'&gt;sub &lt;/span&gt;&lt;span class='p'&gt;{&lt;/span&gt;&lt;span class='sx'&gt;q[&lt;/span&gt;
&lt;span class='sx'&gt;    &amp;lt;html&amp;gt;&lt;/span&gt;
&lt;span class='sx'&gt;    &amp;lt;head&amp;gt;&lt;/span&gt;
&lt;span class='sx'&gt;    &amp;lt;script&amp;gt;&lt;/span&gt;
&lt;span class='sx'&gt;      var ws_path = &amp;quot;ws://localhost:5000/_hippie/ws&amp;quot;;&lt;/span&gt;
&lt;span class='sx'&gt;      var socket = new WebSocket(ws_path);&lt;/span&gt;
&lt;span class='sx'&gt;      socket.onopen = function() {&lt;/span&gt;
&lt;span class='sx'&gt;          document.getElementById(&amp;#39;conn-status&amp;#39;).innerHTML = &amp;#39;Connected&amp;#39;;&lt;/span&gt;
&lt;span class='sx'&gt;      };&lt;/span&gt;
&lt;span class='sx'&gt;      socket.onmessage = function(e) {&lt;/span&gt;
&lt;span class='sx'&gt;          var data = JSON.parse(e.data);&lt;/span&gt;
&lt;span class='sx'&gt;          console.log(data);&lt;/span&gt;
&lt;span class='sx'&gt;          if (data.msg) {&lt;/span&gt;
&lt;span class='sx'&gt;            document.getElementById(&amp;#39;content&amp;#39;).innerHTML = data.msg;&lt;/span&gt;
&lt;span class='sx'&gt;            setTimeout(function() {&lt;/span&gt;
&lt;span class='sx'&gt;              document.getElementById(&amp;#39;content&amp;#39;).innerHTML = &amp;#39;No current message&amp;#39;;&lt;/span&gt;
&lt;span class='sx'&gt;            }, 5000);&lt;/span&gt;
&lt;span class='sx'&gt;          }&lt;/span&gt;
&lt;span class='sx'&gt;      };&lt;/span&gt;
&lt;span class='sx'&gt;      function send_msg(message) {&lt;/span&gt;
&lt;span class='sx'&gt;          socket.send(JSON.stringify({ msg: message }));&lt;/span&gt;
&lt;span class='sx'&gt;      }&lt;/span&gt;
&lt;span class='sx'&gt;      function get_long() {&lt;/span&gt;
&lt;span class='sx'&gt;        var xmlHttp = null;&lt;/span&gt;

&lt;span class='sx'&gt;        xmlHttp = new XMLHttpRequest();&lt;/span&gt;
&lt;span class='sx'&gt;        xmlHttp.open( &amp;quot;GET&amp;quot;, &amp;#39;/long&amp;#39;, false );&lt;/span&gt;
&lt;span class='sx'&gt;        xmlHttp.send( null );&lt;/span&gt;
&lt;span class='sx'&gt;        document.getElementById(&amp;#39;content&amp;#39;).innerHTML = &amp;#39;Waiting...&amp;#39;;&lt;/span&gt;
&lt;span class='sx'&gt;      }&lt;/span&gt;
&lt;span class='sx'&gt;    &amp;lt;/script&amp;gt;&lt;/span&gt;
&lt;span class='sx'&gt;    &amp;lt;/head&amp;gt;&lt;/span&gt;
&lt;span class='sx'&gt;    &amp;lt;body&amp;gt;&lt;/span&gt;
&lt;span class='sx'&gt;    Connection Status: &amp;lt;span id=&amp;quot;conn-status&amp;quot;&amp;gt; Disconnected &amp;lt;/span&amp;gt;&lt;/span&gt;
&lt;span class='sx'&gt;    &amp;lt;input value=&amp;quot;Send Message&amp;quot; type=button onclick=&amp;quot;send_msg(&amp;#39;hello&amp;#39;)&amp;quot; /&amp;gt;&lt;/span&gt;
&lt;span class='sx'&gt;    &amp;lt;input value=&amp;quot;Get Long Call&amp;quot; type=button onclick=&amp;quot;get_long()&amp;quot; /&amp;gt;&amp;lt;br&amp;gt;&lt;/span&gt;
&lt;span class='sx'&gt;    &amp;lt;span id=&amp;quot;content&amp;quot;&amp;gt; No current message &amp;lt;/span&amp;gt;&lt;/span&gt;
&lt;span class='sx'&gt;    &amp;lt;/body&amp;gt;&lt;/span&gt;
&lt;span class='sx'&gt;    &amp;lt;/html&amp;gt;&lt;/span&gt;
&lt;span class='sx'&gt;]&lt;/span&gt;&lt;span class='p'&gt;};&lt;/span&gt;

&lt;span class='n'&gt;get&lt;/span&gt; &lt;span class='s'&gt;&amp;#39;/long&amp;#39;&lt;/span&gt; &lt;span class='o'&gt;=&amp;gt;&lt;/span&gt; &lt;span class='k'&gt;sub &lt;/span&gt;&lt;span class='p'&gt;{&lt;/span&gt;
    &lt;span class='n'&gt;debug&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;Stations Called&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
    &lt;span class='n'&gt;fork_call&lt;/span&gt; &lt;span class='p'&gt;{&lt;/span&gt;
      &lt;span class='n'&gt;debug&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;Forking&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
      &lt;span class='nb'&gt;sleep&lt;/span&gt; &lt;span class='mi'&gt;5&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
    &lt;span class='p'&gt;}&lt;/span&gt; &lt;span class='k'&gt;sub &lt;/span&gt;&lt;span class='p'&gt;{&lt;/span&gt;
      &lt;span class='k'&gt;my&lt;/span&gt; &lt;span class='nv'&gt;$data&lt;/span&gt; &lt;span class='o'&gt;=&lt;/span&gt; &lt;span class='s'&gt;&amp;#39;Forked result!&amp;#39;&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
      &lt;span class='n'&gt;ws_send&lt;/span&gt; &lt;span class='nv'&gt;$data&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
      &lt;span class='n'&gt;debug&lt;/span&gt;&lt;span class='p'&gt;(&lt;/span&gt;&lt;span class='s'&gt;&amp;quot;Message Sent&amp;quot;&lt;/span&gt;&lt;span class='p'&gt;);&lt;/span&gt;
    &lt;span class='p'&gt;};&lt;/span&gt;
    &lt;span class='k'&gt;return&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;span class='p'&gt;};&lt;/span&gt;

&lt;span class='n'&gt;dance&lt;/span&gt;&lt;span class='p'&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Launch the script with plackup:&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='bash'&gt;plackup -s Twiggy socket_dance.pl -p 5000
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Browse to http://localhost:5000 and you should be greeted with a page. Press the buttons and watch the magic happen!&lt;/p&gt;

&lt;p&gt;I did encounter issues with the latest version of chrome on page refreshes sending bad data crashing twiggy, looks like there are some &lt;a href=&quot;https://github.com/miyagawa/Twiggy/pull/39&quot;&gt;bug reports&lt;/a&gt; indirectly relating to it. However it does work on initial page load and seems to work correctly on firefox :-)&lt;/p&gt;</description>
				<pubDate>Thu, 20 Feb 2014 00:00:00 +0800</pubDate>
				<link>http://www.techman83.me/programming/2014/02/20/dancing_with_websockets.html</link>
				<guid isPermaLink="true">http://www.techman83.me/programming/2014/02/20/dancing_with_websockets.html</guid>
			</item>
		

                    
                    
                    

			<item>
				<title>Bottom Bracket Refit + Dropout repair</title>
				<description>&lt;p&gt;As a follow up to my &lt;a href=&quot;/personal/2014/02/06/repair_bb.html&quot;&gt;previous post&lt;/a&gt;, I ordered an upgraded BB. Being a Shimano HollowTech II, the different screw in type BBs are interchangeable. So long as you get the correct thread and width. Mine had the english thread (1.37x24) and the bracket width of 68mm. The bike shop had stock of a Dura-Ace SM-BB9000 in their warehouse, being only a little more than the equivilent Shimano 105 I decided to spring for the upgrade (mine only had a Tiagra, so quite an upgrade indeed).&lt;/p&gt;
&lt;figure&gt;&lt;a class='fancybox' rel='group' href='https://lh6.googleusercontent.com/-X17fCai5QLA/UvtjL_I-rMI/AAAAAAAAIq4/uCvFPqOm5yM/w1533-h961-no/IMG_0288-edit.JPG'&gt;&lt;img src='https://lh6.googleusercontent.com/-X17fCai5QLA/UvtjL_I-rMI/AAAAAAAAIq4/uCvFPqOm5yM/w1533-h961-no/IMG_0288-edit.JPG' /&gt;&lt;/a&gt;&lt;figcaption&gt;New vs Old&lt;/figcaption&gt;&lt;/figure&gt;&lt;!--more--&gt;
&lt;p&gt;The BB was pretty easy to fit in the end. Grease the BB threads, put back together, slide in the crank (with a few gentle taps with a plastic mallet drive it home) and a bit of thread locker on the crank arm bolts.&lt;/p&gt;

&lt;p&gt;I also gave everything a really good clean whilst it was apart. The chain rings were quite filthy and there a few places that are difficult to reach when it’s all together.&lt;/p&gt;
&lt;figure&gt;&lt;a class='fancybox' rel='group' href='https://lh4.googleusercontent.com/-SkpEEsa1FbY/UvtjW5SVCNI/AAAAAAAAIrI/8gROED9lKzk/w1291-h1023-no/IMG_0297-edit.JPG'&gt;&lt;img src='https://lh4.googleusercontent.com/-SkpEEsa1FbY/UvtjW5SVCNI/AAAAAAAAIrI/8gROED9lKzk/w250/IMG_0297-edit.JPG' /&gt;&lt;/a&gt;&lt;figcaption&gt;BB Fitted&lt;/figcaption&gt;&lt;/figure&gt;&lt;figure&gt;&lt;a class='fancybox' rel='group' href='https://lh6.googleusercontent.com/--SjSM7wCXsA/UvtjPbZ9SWI/AAAAAAAAIrA/v2teYf9GIdw/w1533-h715-no/IMG_0285-edit.JPG'&gt;&lt;img src='https://lh6.googleusercontent.com/--SjSM7wCXsA/UvtjPbZ9SWI/AAAAAAAAIrA/v2teYf9GIdw/w250/IMG_0285-edit.JPG' /&gt;&lt;/a&gt;&lt;figcaption&gt;Shimano 105 Crankset&lt;/figcaption&gt;&lt;/figure&gt;
&lt;p&gt;The dropouts were something else I addressed. When I first got the bike it came with Skewers that were cheap and didn’t have a lot of clamping force. Initially the replacements I got helped, but the damage was done and it indented the dropout in the wrong position. No matter how much force I used, eventually the wheel would find it’s way into that incorrect position. Lately it’s been happening nearly every day, which was driving me mental.&lt;/p&gt;

&lt;p&gt;So it gave me a chance to use my new found favourite product, JB Weld (2 part epoxy steel resin). I filled in the incorrect position so I could reset it and create a new one. So far it appears to be working quite well. Though I need a new skewer as I cracked it with all the force I had used to try and stop the wheel from moving.&lt;/p&gt;
&lt;figure&gt;&lt;a class='fancybox' rel='group' href='https://lh5.googleusercontent.com/-RxG-kI3AMXA/UvtjLu7eoqI/AAAAAAAAIq0/TJ6J8gj_MCo/w1324-h1023-no/IMG_0293-edit.JPG'&gt;&lt;img src='https://lh5.googleusercontent.com/-RxG-kI3AMXA/UvtjLu7eoqI/AAAAAAAAIq0/TJ6J8gj_MCo/w250/IMG_0293-edit.JPG' /&gt;&lt;/a&gt;&lt;figcaption&gt;Dropout Repair&lt;/figcaption&gt;&lt;/figure&gt;</description>
				<pubDate>Wed, 12 Feb 2014 00:00:00 +0800</pubDate>
				<link>http://www.techman83.me/personal/2014/02/12/refit_bb.html</link>
				<guid isPermaLink="true">http://www.techman83.me/personal/2014/02/12/refit_bb.html</guid>
			</item>
		

                    
                    
                    

			<item>
				<title>Git&amp;#58; Bah, wrong branch!</title>
				<description>&lt;p&gt;I love git, it’s a really great tool. However no matter how used I get to my workflows I eventually end up commiting something into the wrong branch!&lt;/p&gt;

&lt;p&gt;And although I tend to use a custom bash shell called &lt;a href=&quot;https://github.com/rtomayko/git-sh&quot;&gt;git-sh&lt;/a&gt; with a full colour prompt, with all the relevant information:&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='bash'&gt;master &lt;span class='nv'&gt;u&lt;/span&gt;&lt;span class='o'&gt;=&lt;/span&gt;!dev-home&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;!--more--&gt;
&lt;p&gt;I somehow still manage to commit in the wrong place. So after doing it again today I figured I’d use some git functionality to resolve it.&lt;/p&gt;

&lt;p&gt;Ahh time to write some code.&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='bash'&gt;master &lt;span class='nv'&gt;u&lt;/span&gt;&lt;span class='o'&gt;=&lt;/span&gt;!dev-home&amp;gt; tee somescript.pl
!#/usr/bin/perl
!#/usr/bin/perl


print &lt;span class='s2'&gt;&amp;quot;I&amp;#39;m a script...\n&amp;quot;&lt;/span&gt;
print &lt;span class='s2'&gt;&amp;quot;I&amp;#39;m a script...\n&amp;quot;&lt;/span&gt;

master &lt;span class='nv'&gt;u&lt;/span&gt;&lt;span class='o'&gt;=&lt;/span&gt;!dev-home&amp;gt; add somescript.pl 
master &lt;span class='nv'&gt;u&lt;/span&gt;&lt;span class='o'&gt;=&lt;/span&gt;!dev-home *&amp;gt; commit somescript.pl -m &lt;span class='s1'&gt;&amp;#39;somescript added&amp;#39;&lt;/span&gt;
&lt;span class='o'&gt;[&lt;/span&gt;master 8f922af&lt;span class='o'&gt;]&lt;/span&gt; somescript added
 1 file changed, 3 insertions&lt;span class='o'&gt;(&lt;/span&gt;+&lt;span class='o'&gt;)&lt;/span&gt;
  create mode 100644 somescript.p
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Bah, I commited to the wrong branch.. Again! I know, how ‘bout I cherry pick that commit into the branch I wanted.&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='bash'&gt;master u+1!dev-home&amp;gt; checkout dev
Switched to branch &lt;span class='s1'&gt;&amp;#39;dev&amp;#39;&lt;/span&gt;

dev!dev-home&amp;gt; cherry-pick 8f922af
&lt;span class='o'&gt;[&lt;/span&gt;dev aeb40b7&lt;span class='o'&gt;]&lt;/span&gt; somescript added
 1 file changed, 3 insertions&lt;span class='o'&gt;(&lt;/span&gt;+&lt;span class='o'&gt;)&lt;/span&gt;
  create mode 100644 somescript.p
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now it’s in the right place!&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='bash'&gt;dev!dev-home&amp;gt; show
commit aeb40b782a53c73e6cc2b4b4f87074b026d7e6c2
Author: Leon Wright &amp;lt;leon.wright@imdexlimited.com&amp;gt;
Date:   Tue Feb 11 15:11:01 2014 +0800

    somescript added

    diff --git a/somescript.pl b/somescript.pl
    new file mode 100644
    index 0000000..6145323
    --- /dev/null
    +++ b/somescript.pl
    @@ -0,0 +1,3 @@
    +!#/usr/bin/perl
    +
    +print &lt;span class='s2'&gt;&amp;quot;I&amp;#39;m a script...\n&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Hmm, but master has the commit that I don’t want in it. Good thing I hadn’t pushed that to my remote repository&lt;/p&gt;
&lt;div class='highlight'&gt;&lt;pre&gt;&lt;code class='bash'&gt;master u+1!dev-home&amp;gt; git reset --hard origin/master 
HEAD is now at 3761131 &lt;span class='nb'&gt;test &lt;/span&gt;xml stuffs
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Normality restored!&lt;/p&gt;</description>
				<pubDate>Tue, 11 Feb 2014 00:00:00 +0800</pubDate>
				<link>http://www.techman83.me/programming/2014/02/11/bah_wrong_branch.html</link>
				<guid isPermaLink="true">http://www.techman83.me/programming/2014/02/11/bah_wrong_branch.html</guid>
			</item>
		

                    
                    
                    

			<item>
				<title>Bottom Bracket Removal</title>
				<description>&lt;figure class='right'&gt;&lt;a class='fancybox' rel='group' href='https://lh5.googleusercontent.com/-20qjDl-uppg/UvN1qkN-BcI/AAAAAAAAIo0/Z6RhbxWUD7k/w703-h1023-no/IMG_0235-edit.JPG'&gt;&lt;img src='https://lh5.googleusercontent.com/-20qjDl-uppg/UvN1qkN-BcI/AAAAAAAAIo0/Z6RhbxWUD7k/w703-h1023-no/IMG_0235-edit.JPG' /&gt;&lt;/a&gt;&lt;figcaption&gt;Shimano BB - 4500&lt;/figcaption&gt;&lt;/figure&gt;
&lt;p&gt;For those that don’t know me, I like to cycle. Though I do find it difficult to fit the time in, I find it really easy to make it part of my commute to work. Commuting however is pretty hard on your equipment. Especially if you’re not afraid of a bit of water. (I’m not, not even horizontal rain!)&lt;/p&gt;
&lt;!--more--&gt;
&lt;p&gt;Another passion of mine is repairing things. Buying a complete replacement is always a last resort and it feels really wrong to pay someone to do something knowing full well that I’m more than capable of doing it myself.&lt;/p&gt;

&lt;p&gt;I noticed earlier this week that my pedaling didn’t feel all that smooth. Upon investigation I noted a small amount of play in my crank shaft. I decided it wasn’t bad enough to not commute for the week, so I waited till this evening to strip it down. After stripping it all down and inspecting the bearings, I found the issue straight away. The drive side bearing had a lot of play in it and when rotating it, it felt very gritty. Off to the bike shop tomorrow to buy a replacement, I might even spring for an upgrade to a Dura Ace BB.&lt;/p&gt;
&lt;figure class='right'&gt;&lt;a class='fancybox' rel='group' href='https://lh6.googleusercontent.com/-4dARA9LQpLI/UvN60sc2J6I/AAAAAAAAIpg/zt-LQCTOIBI/w1533-h894-no/IMG_0242-edit.JPG'&gt;&lt;img src='https://lh6.googleusercontent.com/-4dARA9LQpLI/UvN60sc2J6I/AAAAAAAAIpg/zt-LQCTOIBI/w1533-h894-no/IMG_0242-edit.JPG' /&gt;&lt;/a&gt;&lt;figcaption&gt;Tools&lt;/figcaption&gt;&lt;/figure&gt;</description>
				<pubDate>Thu, 06 Feb 2014 00:00:00 +0800</pubDate>
				<link>http://www.techman83.me/personal/2014/02/06/repair_bb.html</link>
				<guid isPermaLink="true">http://www.techman83.me/personal/2014/02/06/repair_bb.html</guid>
			</item>
		

                    
                    
                    

			<item>
				<title>Automating AV&amp;#58; EventStreamr</title>
				<description>&lt;p&gt;&lt;a href=&quot;https://github.com/lukejohnosmahi/eventstreamr/&quot;&gt;EventStreamR&lt;/a&gt; come to inception from a collection of experiences amongst our local LUG the &lt;a href=&quot;https://www.plug.org.au&quot;&gt;Perth Linux User Group&lt;/a&gt;. Although we call ourselves PLUG, we have members from all over the state. Western Australia being quite large, 2,529,875 square km or over 10 times bigger than Victoria; so some of our members find it quite difficult to attend. A few years ago an initiave started by &lt;a href=&quot;http://blog.james.rcpt.to/&quot;&gt;James Bromberger&lt;/a&gt; was to film and live stream all PLUG talks so that every member had an oppurtunity to attend our meetings, even if they couldn’t necessarily make it in person. &lt;!--more--&gt;&lt;/p&gt;

&lt;p&gt;Between our experience streaming and attending LCA2013 to get a feel for how the conference ran, we had come to the conclusion that the Open Source Video mixing stack we use (DVswitch), whilst being easy to use and quite fit for purpose; it can be a little unreliable. Along with that DV aka Digital Video as a dying standard. To my knowledge there isn’t a lot of work being put into the project as the world is moving on from DV. In light of all that we had come up with a list of requirements to bring reliability to the table.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Open Source&lt;/li&gt;

&lt;li&gt;Be able to scale up and down&lt;/li&gt;

&lt;li&gt;Easy to setup and use&lt;/li&gt;

&lt;li&gt;Work on any hardware&lt;/li&gt;

&lt;li&gt;Central Configuration Management + Control&lt;/li&gt;

&lt;li&gt;Able to operate independently (Locations with no network or failure of networking)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Ability to scale down was particularly important to us, as we want to be able to use this solution at our local LUG and also encourage other LUGs to generate content. Which was something that I felt was lacking in some of the established solutions (eg. Matterhorn, though I’m happy to be shown otherwise). So after gathering our requirements, there was also figuring out what problems we needed to solve.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;DVswitch - It sometimes goes bang&lt;/li&gt;

&lt;li&gt;DVgrab - does not fail gracefully&lt;/li&gt;

&lt;li&gt;Setup for multiple stations and rooms is time consuming&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;There are 2 major components to EventStreamR, I’ll cover the engine that sits in the background doing all the hardwork. I had pondered for some time about how I was going to solve the above problems and also meet our requirements. I felt Perl would be up to the challenge (and also happens to be the language I have the most exeprience in). It’s a language I frequently use to glue things together in my day job and there are many libraries availble, which means less time re-inventing the wheel.&lt;/p&gt;

&lt;p&gt;With &lt;a href=&quot;https://github.com/lukejohnosmahi&quot;&gt;Luke&lt;/a&gt; writing the framework for the frontend, it left me focus on the backend. Which at it’s core is a &lt;a href=&quot;https://github.com/lukejohnosmahi/eventstreamr/blob/master/station/bin/station-mgr.pl&quot;&gt;single daemon&lt;/a&gt; and essentially is a RESTful api enabled glorified process manager. I learnt a number of things whilst developing this with &lt;a href=&quot;https://github.com/nimm&quot;&gt;Jason&lt;/a&gt;.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;The current firewire stack is extremely reliable, the hardware I chose to develop the solution with initially was not. (2 days yak shaving due to a faulty camera and faulty firewire leads).&lt;/li&gt;

&lt;li&gt;IPC::Shareable - I love what it can do, however you really need to devote time to managing your shared memory. We had modest needs, so Signals + HTTP calls were more than enough.&lt;/li&gt;

&lt;li&gt;There are either restrictions to what key names when utilising JSON for serialised data or the JSON library does not escape them correctly. &lt;a href=&quot;https://github.com/lukejohnosmahi/eventstreamr/issues/53&quot;&gt;I need to fix this properly&lt;/a&gt;&lt;/li&gt;

&lt;li&gt;The default dancer HTTP engine (HTTP::Server::Simple::CGI) does not support all HTTP methods. Causing much hair pulling when attempting to address CORS issues.&lt;/li&gt;

&lt;li&gt;When you think you’ve squashed all the bugs, there will be more&lt;/li&gt;

&lt;li&gt;You won’t have quality time to write code at a conference&lt;/li&gt;

&lt;li&gt;You will have to write code at the conference and it will inolve hours of yak shaving&lt;/li&gt;

&lt;li&gt;If you’re making a lot of mistakes, have a nap or if it’s late go to bed!&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Overall LCA2014 was a success and I’m happy to report that the solution was extremely reliable, we had some hardware failure and issues with capture devices; scenarios we were quite preparred for. I’m sure there is more I could write or more lessons I could share, but I will leave you with the following statement and youtube video.&lt;/p&gt;

&lt;p&gt;Amazing things can happen when your volunteers are not afraid to experiemnt.&lt;/p&gt;
&lt;div class='video-container'&gt;&lt;iframe width='560' height='420' src='http://www.youtube.com/embed/vbt_0q4qWUo?html5=1'&gt; &lt;/iframe&gt;&lt;/div&gt;&lt;p&gt;&lt;a href='http://www.youtube.com/watch?v=vbt_0q4qWUo'&gt;Watch on YouTube&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;(We caught this on the video wall in the TAVNOC and crowded around the nearest computer with external speakers. It was amazing!)&lt;/p&gt;</description>
				<pubDate>Mon, 20 Jan 2014 00:00:00 +0800</pubDate>
				<link>http://www.techman83.me/programming/2014/01/20/eventstreamr.html</link>
				<guid isPermaLink="true">http://www.techman83.me/programming/2014/01/20/eventstreamr.html</guid>
			</item>
		

                    
                    
                    

			<item>
				<title>First Post!</title>
				<description>&lt;p&gt;I’ve been saying it for years, “I should make a website!”. However “Graphic Design” and “Presentation” aren’t really things that excite me and so motivation was hard to come by. &lt;!--more--&gt;Sure there are CMS frameworks; but for a little website to display my random thoughts, the learning curve and time involved really meant that it never happened. Fortunately I follow an awesome dude named Paul Fenwick and he built &lt;a href=&quot;http://pjf.id.au/&quot;&gt;this site&lt;/a&gt; and encouraged others to fork the codebase. Of which I was more than happy to oblige. Thanks Paul!&lt;/p&gt;

&lt;p&gt;Now to populate the site with content! :D&lt;/p&gt;</description>
				<pubDate>Sun, 19 Jan 2014 00:00:00 +0800</pubDate>
				<link>http://www.techman83.me/personal/2014/01/19/first_post.html</link>
				<guid isPermaLink="true">http://www.techman83.me/personal/2014/01/19/first_post.html</guid>
			</item>
		

                    
                    
                    

			<item>
				<title>PLUG&amp;#58; theSkyNet POGS and Radio Astronomy</title>
				<description>&lt;div class='video-container'&gt;&lt;iframe width='560' height='420' src='http://www.youtube.com/embed/LBQp9aPe6k0?html5=1'&gt; &lt;/iframe&gt;&lt;/div&gt;&lt;p&gt;&lt;a href='http://www.youtube.com/watch?v=LBQp9aPe6k0'&gt;Watch on YouTube&lt;/a&gt;&lt;/p&gt;&lt;!--more--&gt;
&lt;p&gt;Kevin Vinsen talking at the PLUG November 2013 meeting about current and upcoming radio astronomy in WA and elsewhere, and its distributed computing requirements - add your home computer to the mix!&lt;/p&gt;</description>
				<pubDate>Tue, 12 Nov 2013 00:00:00 +0800</pubDate>
				<link>http://www.techman83.me/plug/2013/11/12/LBQp9aPe6k0.html</link>
				<guid isPermaLink="true">http://www.techman83.me/plug/2013/11/12/LBQp9aPe6k0.html</guid>
			</item>
		

                    
                    
                    

			<item>
				<title>PLUG&amp;#58; Configuration Management using Puppet - October 2013</title>
				<description>&lt;div class='video-container'&gt;&lt;iframe width='560' height='420' src='http://www.youtube.com/embed/XQsD8bQtoY4?html5=1'&gt; &lt;/iframe&gt;&lt;/div&gt;&lt;p&gt;&lt;a href='http://www.youtube.com/watch?v=XQsD8bQtoY4'&gt;Watch on YouTube&lt;/a&gt;&lt;/p&gt;&lt;!--more--&gt;
&lt;p&gt;Luke Williams talking at the PLUG October 2013 meeting about automated system administration and configuration using Puppet.&lt;/p&gt;</description>
				<pubDate>Mon, 14 Oct 2013 00:00:00 +0800</pubDate>
				<link>http://www.techman83.me/plug/2013/10/14/XQsD8bQtoY4.html</link>
				<guid isPermaLink="true">http://www.techman83.me/plug/2013/10/14/XQsD8bQtoY4.html</guid>
			</item>
		

                    
                    
                    

			<item>
				<title>PLUG&amp;#58; iVEC SC13 Student Cluster Competition Team</title>
				<description>&lt;div class='video-container'&gt;&lt;iframe width='560' height='420' src='http://www.youtube.com/embed/m4RywlIdhM8?html5=1'&gt; &lt;/iframe&gt;&lt;/div&gt;&lt;p&gt;&lt;a href='http://www.youtube.com/watch?v=m4RywlIdhM8'&gt;Watch on YouTube&lt;/a&gt;&lt;/p&gt;&lt;!--more--&gt;
&lt;p&gt;iVEC has a team entering the Student Cluster Competition at SC13 in the US later this year. This is the pre-eminent event in the High Performance Computing (HPC) world and it’s great for Australia, and in particular Western Australia to be involved thanks to iVEC and their sponsors.&lt;/p&gt;

&lt;p&gt;The team gave a presentation at PLUG going through the ins and outs of super computing, the state of super compuing in WA, and information about the competition itself.&lt;/p&gt;

&lt;p&gt;This was a really great talk and thanks to iVEC and the team for presenting!&lt;/p&gt;</description>
				<pubDate>Wed, 14 Aug 2013 00:00:00 +0800</pubDate>
				<link>http://www.techman83.me/plug/2013/08/14/m4RywlIdhM8.html</link>
				<guid isPermaLink="true">http://www.techman83.me/plug/2013/08/14/m4RywlIdhM8.html</guid>
			</item>
		

                    
                    
                    

			<item>
				<title>PLUG&amp;#58; Subversion SVN, July 2013</title>
				<description>&lt;div class='video-container'&gt;&lt;iframe width='560' height='420' src='http://www.youtube.com/embed/TTImA7FYNHI?html5=1'&gt; &lt;/iframe&gt;&lt;/div&gt;&lt;p&gt;&lt;a href='http://www.youtube.com/watch?v=TTImA7FYNHI'&gt;Watch on YouTube&lt;/a&gt;&lt;/p&gt;&lt;!--more--&gt;
&lt;p&gt;Alastair Irvine on creating a Subversion repository and SVN usage&lt;/p&gt;</description>
				<pubDate>Tue, 09 Jul 2013 00:00:00 +0800</pubDate>
				<link>http://www.techman83.me/plug/2013/07/09/TTImA7FYNHI.html</link>
				<guid isPermaLink="true">http://www.techman83.me/plug/2013/07/09/TTImA7FYNHI.html</guid>
			</item>
		

                    
                    
                     
	</channel>
</rss>
